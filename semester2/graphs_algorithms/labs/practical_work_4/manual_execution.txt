Topological sorting using DFS algorithm (Tarjan's algorithm)

9
0,-,2
1,2,3
2,0,2
3,4,5
4,0,1
5,6+7+8,1
6,1,4
7,3,3
8,2,3

G: 0 -> 4 -> 3 -> 7 -> 5   DAG
    |                 | |
    \-> 2 -> 1 -> 6 --/ |
         |              |
         \-> 8 ---------/

calls                                                       x,y     in_process      fully_processed             sorted                      ok
--------------------------------------------------------------------------------------------------------------------------------------------------------
initialization                                                      {}              {}                          []
--------------------------------------------------------------------------------------------------------------------------------------------------------
topological_sort_dfs(G, 0, [], {}, {})                      x = 0   {}              {}                          []                          true
                                                                    {0}                                 
                                                                    {}              {0}                         [0]
--------------------------------------------------------------------------------------------------------------------------------------------------------
topological_sort_dfs(G, 2, [0], {0}, {})                    x = 2   {}              {0}                         [0]                         true
                                                            y = 0   {2}
                                                                    {}              {0, 2}                      [0, 2]       
--------------------------------------------------------------------------------------------------------------------------------------------------------
topological_sort_dfs(G, 1, [0, 2], {0, 2}, {})              x = 1   {}              {0, 2}                      [0, 2, 1]                   true       
                                                            y = 2   {1}
                                                                    {}              {0, 2, 1}                   [0, 2, 1]
--------------------------------------------------------------------------------------------------------------------------------------------------------
topological_sort_dfs(G, 6, [0, 2, 1], {0, 2, 1}, {})        x = 6   {}              {0, 2, 1, 6}                [0, 2, 1, 6]                true
                                                            y = 1   {6}
                                                                    {}              {0, 2, 1, 6}                [0, 2, 1, 6]
--------------------------------------------------------------------------------------------------------------------------------------------------------
topological_sort_dfs                                        x = 5   {}              {0, 2, 1, 6}                [0, 2, 1, 6]
(G, 5, [0, 2, 1, 6], {0, 2, 1, 6}, {})                              {5}
                                                            y = 6   
                                                            y = 7
                                                            y = 8
--------------------------------------------------------------------------------------------------------------------------------------------------------
topological_sort_dfs                                        x = 8   {5}             {0, 2, 1, 6}                [0, 2, 1, 6]                true
(G, 8, [0, 2, 1, 6], {0, 2, 1, 6}, {5})                     y = 2   {5, 8} 
                                                                    {5}             {0, 2, 1, 6, 8}             [0, 2, 1, 6, 8]
--------------------------------------------------------------------------------------------------------------------------------------------------------
topological_sort_dfs                                        x = 4   {5}             {0, 2, 1, 6, 8}             [0, 2, 1, 6, 8]             true
(G, 4, [0, 2, 1, 6, 8], {0, 2, 1, 6, 8}, {5})               y = 0   {5, 4}
                                                                    {5}             {0, 2, 1, 6, 8, 4}          [0, 2, 1, 6, 8, 4]
--------------------------------------------------------------------------------------------------------------------------------------------------------
topological_sort_dfs                                        x = 3   {5}             {0, 2, 1, 6, 8, 4}          [0, 2, 1, 6, 8, 4]          true
(G, 3, [0, 2, 1, 6, 8, 4], {0, 2, 1, 6, 8, 4}, {5})         y = 4   {5, 3}
                                                                    {5}             {0, 2, 1, 6, 8, 4, 3}       [0, 2, 1, 6, 8, 4, 3]    
--------------------------------------------------------------------------------------------------------------------------------------------------------
topological_sort_dfs                                        x = 7   {5}             {0, 2, 1, 6, 8, 4, 3}       [0, 2, 1, 6, 8, 4, 3]       true
(G, 7, [0, 2, 1, 6, 8, 4, 3], {0, 2, 1, 6, 8, 4, 3}, {5})   y = 3   {5, 7}
                                                                    {5}             {0, 2, 1, 6, 8, 4, 3, 7}    [0, 2, 1, 6, 8, 4, 3, 7]
--------------------------------------------------------------------------------------------------------------------------------------------------------
                                                            x = 5   {}              {0, 2, 1, 6, 8, 4, 3, 7, 5} [0, 2, 1, 6, 8, 4, 3, 7, 5] true

Topological order = sorted = [0, 2, 1, 6, 8, 4, 3, 7, 5]
--------------------------------------------------------------------------------------------------------------------------------------------------------
Earliest and latest times

sorted_vertices =   [0, 2, 1, 6, 8, 4, 3, 7, 5]
earliest_start =    [-inf, -inf, -inf, -inf, -inf, -inf, -inf, -inf, -inf]
earliest_end =      [-inf, -inf, -inf, -inf, -inf, -inf, -inf, -inf, -inf]
latest_start =      [inf, inf, inf, inf, inf, inf, inf, inf, inf]
latest_end =        [inf, inf, inf, inf, inf, inf, inf, inf, inf]

earliest_start =    [0, max(-inf, 4) = 4,       max(-inf, 2) = 2,       max(-inf, 3) = 3,       max(-inf, 2) = 2,       max(-inf, 11, 11, 7) = 11,      max(-inf, 7) = 7,       max(-inf, 8) = 8,       max(-inf, 4) = 4]
earliest_end =      [2, max(-inf, 4) + 3 = 7,   max(-inf, 2) + 2 = 4,   max(-inf, 3) + 5 = 8,   max(-inf, 2) + 1 = 3,   max(-inf, 11, 11, 7) + 1 = 12,  max(-inf, 7) + 4 = 11,  max(-inf, 8) + 3 = 11,  max(-inf, 4) + 3 = 7]

earliest_start =    [0, min(inf, 4) = 4,       min(inf, 2) = 2,       min(inf, 3) = 3,       min(inf, 2) = 2,       min(inf, 11, 11, 11) = 11,     min(inf, 7) = 7,       min(inf, 8) = 8,       min(inf, 8) = 8]
earliest_end =      [2, min(inf, 4) + 3 = 7,   min(inf, 2) + 2 = 4,   min(inf, 3) + 5 = 8,   min(inf, 2) + 1 = 3,   min(inf, 11, 11, 11) + 1 = 12, min(inf, 7) + 4 = 11,  min(inf, 8) + 3 = 11,  min(inf, 8) + 3 = 11]

+----------+---------------+-------------+
| activity | earliest time | latest time |
+==========+===============+=============+
| 0        | 0-2           | 0-2         |
+----------+---------------+-------------+
| 1        | 4-7           | 4-7         |
+----------+---------------+-------------+
| 2        | 2-4           | 2-4         |
+----------+---------------+-------------+
| 3        | 3-8           | 3-8         |
+----------+---------------+-------------+
| 4        | 2-3           | 2-3         |
+----------+---------------+-------------+
| 5        | 11-12         | 11-12       |
+----------+---------------+-------------+
| 6        | 7-11          | 7-11        |
+----------+---------------+-------------+
| 7        | 8-11          | 8-11        |
+----------+---------------+-------------+
| 8        | 4-7           | 8-11        |
+----------+---------------+-------------+
the duration of the project is: 12

